[command]
default=rose env-cat rose-app-run.conf >rose-app-expanded.conf ; $AFTERBURNER_HOME_DIR/bin/apprun.sh tempest_tracker.TempestTracker -c rose-app-expanded.conf --debug

[env]
AFTERBURNER_HOME_DIR=/home/d04/jseddon/afterburner/software/turbofan/v1.3.1-py36
SCITOOLS_MODULE=none
PYTHONPATH=/home/d05/hadom/tenten/tempest_helper:$CYLC_TASK_WORK_DIR
CYCLEPERIOD=$CYCLEPERIOD

[common]
extended_files=False
plot_tracks=True
input_directory=${DATAM}
orography_dir=/data/d05/hadom/tempest_extremes_datafiles
output_directory=${DATAM}/tempest_tracking
slp_std_name=air_pressure_at_sea_level
tc_detect_script=/home/d05/hadom/tempestextremes-master/bin/DetectNodes
tc_stitch_script=/home/d05/hadom/tempestextremes-master/bin/StitchNodes
tc_editor_script=/home/d05/hadom/tempestextremes-master/bin/NodeFileEditor
track_types=["tc_slp", "tc_slp_low", "tc_ew_nh", "tc_ew_sh", "tc_vort_T63_nh", "tc_vort_T63_sh", "tc_vort_T63wc_nh", "tc_vort_T63wc_sh", "etc_slp", "etc_slp_low", "etc_vortT63_nh", "etc_vortT63_sh"]
variables_input=["slp", "zg", "ua", "va", "uas", "vas", "rvT63"]
um_file_pattern=atmos_{}a_{}_{}-{}_{}-{}.nc
output_vars_default=["slp", "sfcWind", "zg", "orog"]
output_vars_extra=["wind925", "wind850", "rvT63", "rvT63_1", "zg_1"]

[tc_slp_detect]
searchbymin=air_pressure_at_sea_level
searchbymax=
minlon=
maxlon=
minlat=
maxlat=
minabslat=
mergedist=6.0
closedcontourcmd="air_pressure_at_sea_level,200.0,5.5,0;_DIFF(zg(0),zg(2)),-6.0,6.5,1.0"
noclosedcontourcmd=
thresholdcmd=
outputcmd="air_pressure_at_sea_level,min,0;_VECMAG(uas,vas),max,5;_DIFF(zg(0),zg(2)),max,0;surface_altitude,max,0;_VECMAG(x_wind(0),y_wind(0)),max,5;_VECMAG(x_wind(1),y_wind(1)),max,5;rvT63(4),max,5;rvT63(4),min,5;_DIFF(zg(0),zg(2)),min,6.5"
timefilter=
regional=
out_header=
verbosity=
latname=latitude
lonname=longitude

[tc_slp_stitch]
in_fmt="lon,lat,slp,sfcWind,zg,surface_altitude,wind925,wind850,rvT63,rvT63_1,zg_1"
format=
range=8.0
mintime=10
min_endpoint_dist=8.0
min_path_dist=
maxgap=3
threshold="lat,<=,40,3;lat,>=,-40,3;surface_altitude,<=,1500,10;surface_altitude,<=,10,4"
timestride=
out_file_format=

[tc_slp_profile]
in_fmt="lon,lat,slp,sfcWind,zg,surface_altitude,wind925,wind850,rvT63,rvT63_1,zg_1"
out_fmt="lon,lat,slp,sfcWind,zg,surface_altitude,wind925,wind850,rvT63,rvT63_1,zg_1,rsize,rprof"
calculate="rprof=radial_wind_profile(uas,vas,159,0.125);rsize=lastwhere(rprof,>,8)"
latname='latitude'
lonname='longitude'

[tc_slp_low_detect]
searchbymin=air_pressure_at_sea_level
searchbymax=
minlon=
maxlon=
minlat=
maxlat=
minabslat=
mergedist=6.0
closedcontourcmd="air_pressure_at_sea_level,100.0,5.5,0;_DIFF(zg(0),zg(2)),-1.0,6.5,1.0"
noclosedcontourcmd=
thresholdcmd=
outputcmd="air_pressure_at_sea_level,min,0;_VECMAG(uas,vas),max,2;_DIFF(zg(0),zg(2)),max,0;surface_altitude,max,0;_VECMAG(x_wind(0),y_wind(0)),max,5;_VECMAG(x_wind(1),y_wind(1)),max,5;rvT63(4),max,5;rvT63(4),min,5;_DIFF(zg(0),zg(2)),min,6.5"
timefilter=
regional=
out_header=
verbosity=
latname=latitude
lonname=longitude

[tc_slp_low_stitch]
in_fmt="lon,lat,slp,sfcWind,zg,surface_altitude,wind925,wind850,rvT63,rvT63_1,zg_1"
format=
range=8.0
mintime=8
min_endpoint_dist=8.0
min_path_dist=
maxgap=3
threshold="lat,<=,40,3;lat,>=,-40,3;surface_altitude,<=,1500,10;surface_altitude,<=,10,4"
timestride=
out_file_format=

[tc_slp_low_profile]
in_fmt="lon,lat,slp,sfcWind,zg,surface_altitude,wind925,wind850,rvT63,rvT63_1,zg_1"
out_fmt="lon,lat,slp,sfcWind,zg,surface_altitude,wind925,wind850,rvT63,rvT63_1,zg_1,rsize,rprof"
calculate="rprof=radial_wind_profile(uas,vas,159,0.125);rsize=lastwhere(rprof,>,8)"
latname='latitude'
lonname='longitude'

[tc_vort_T63_nh_detect]
searchbymin=
searchbymax="_AVG(rvT63(2),rvT63(3),rvT63(4))"
minlon=
maxlon=
minlat=
maxlat=
minabslat=
mergedist=2.0
closedcontourcmd="_AVG(rvT63(2),rvT63(3),rvT63(4)),-0.2e-5,4,0"
noclosedcontourcmd=
thresholdcmd=
outputcmd="air_pressure_at_sea_level,min,0;_VECMAG(uas,vas),max,5;_DIFF(zg(0),zg(2)),max,0;surface_altitude,max,0;_VECMAG(x_wind(0),y_wind(0)),max,5;_VECMAG(x_wind(1),y_wind(1)),max,5;rvT63(4),max,5;rvT63(4),min,5;_DIFF(zg(0),zg(2)),min,6.5"
timefilter=
regional=
out_header=
verbosity=
latname='latitude'
lonname='longitude'

[tc_vort_T63_nh_stitch]
in_fmt="lon,lat,slp,sfcWind,zg,surface_altitude,wind925,wind850,rvT63,rvT63_1,zg_1"
format=
range=3.0
mintime=8
min_endpoint_dist=8.0
min_path_dist=
maxgap=0
threshold="lat,<=,40.0,8;lat,>=,0.0,8"
timestride=
out_file_format=

[tc_vort_T63_nh_profile]
calculate="rprof=radial_wind_profile(uas,vas,159,0.125);rsize=lastwhere(rprof,>,8)"
in_fmt="lon,lat,slp,sfcWind,zg,surface_altitude,wind925,wind850,rvT63,rvT63_1,zg_1"
latname='latitude'
lonname='longitude'
out_fmt="lon,lat,slp,sfcWind,zg,surface_altitude,wind925,wind850,rvT63,rvT63_1,zg_1,rsize,rprof"
timestride=

[tc_vort_T63_sh_detect]
searchbymin="_AVG(rvT63(2),rvT63(3),rvT63(4))"
searchbymax=
minlon=
maxlon=
minlat=
maxlat=
minabslat=
mergedist=2.0
closedcontourcmd="_AVG(rvT63(2),rvT63(3),rvT63(4)),+0.2e-5,4,0"
noclosedcontourcmd=
thresholdcmd=
outputcmd="air_pressure_at_sea_level,min,0;_VECMAG(uas,vas),max,5;_DIFF(zg(0),zg(2)),max,0;surface_altitude,max,0;_VECMAG(x_wind(0),y_wind(0)),max,5;_VECMAG(x_wind(1),y_wind(1)),max,5;rvT63(4),max,5;rvT63(4),min,5;_DIFF(zg(0),zg(2)),min,6.5"
timefilter=
regional=
out_header=
verbosity=
latname='latitude'
lonname='longitude'

[tc_vort_T63_sh_stitch]
in_fmt="lon,lat,slp,sfcWind,zg,surface_altitude,wind925,wind850,rvT63,rvT63_1,zg_1"
format=
range=3.0
mintime=8
min_endpoint_dist=8.0
min_path_dist=
maxgap=0
threshold="lat,>=,-40.0,8;lat,<=,0.0,8"
timestride=
out_file_format=

[tc_vort_T63_sh_profile]
calculate="rprof=radial_wind_profile(uas,vas,159,0.125);rsize=lastwhere(rprof,>,8)"
in_fmt="lon,lat,slp,sfcWind,zg,surface_altitude,wind925,wind850,rvT63,rvT63_1,zg_1"
latname='latitude'
lonname='longitude'
out_fmt="lon,lat,slp,sfcWind,zg,surface_altitude,wind925,wind850,rvT63,rvT63_1,zg_1,rsize,rprof"
timestride=

[tc_vort_T63wc_nh_detect]
searchbymin=
searchbymax="_AVG(rvT63(2),rvT63(3),rvT63(4))"
minlon=
maxlon=
minlat=
maxlat=
minabslat=
mergedist=6.0
closedcontourcmd="_AVG(rvT63(2),rvT63(3),rvT63(4)),-0.2e-5,4,0;_DIFF(zg(0),zg(2)),-1.0,6.5,1.0"
noclosedcontourcmd=
thresholdcmd=
outputcmd="air_pressure_at_sea_level,min,0;_VECMAG(uas,vas),max,5;_DIFF(zg(0),zg(2)),max,0;surface_altitude,max,0;_VECMAG(x_wind(0),y_wind(0)),max,5;_VECMAG(x_wind(1),y_wind(1)),max,5;rvT63(4),max,5;rvT63(4),min,5;_DIFF(zg(0),zg(2)),min,6.5"
timefilter=
regional=
out_header=
verbosity=
latname='latitude'
lonname='longitude'

[tc_vort_T63wc_nh_stitch]
in_fmt="lon,lat,slp,sfcWind,zg,surface_altitude,wind925,wind850,rvT63,rvT63_1,zg_1"
format=
range=3.0
mintime=8
min_endpoint_dist=8.0
min_path_dist=
maxgap=0
threshold="lat,<=,40.0,8;lat,>=,0.0,8"
timestride=
out_file_format=

[tc_vort_T63wc_nh_profile]
calculate="rprof=radial_wind_profile(uas,vas,159,0.125);rsize=lastwhere(rprof,>,8)"
in_fmt="lon,lat,slp,sfcWind,zg,surface_altitude,wind925,wind850,rvT63,rvT63_1,zg_1"
latname='latitude'
lonname='longitude'
out_fmt="lon,lat,slp,sfcWind,zg,surface_altitude,wind925,wind850,rvT63,rvT63_1,zg_1,rsize,rprof"
timestride=

[tc_vort_T63wc_sh_detect]
searchbymin="_AVG(rvT63(2),rvT63(3),rvT63(4))"
searchbymax=
minlon=
maxlon=
minlat=
maxlat=
minabslat=
mergedist=6.0
closedcontourcmd="_AVG(rvT63(2),rvT63(3),rvT63(4)),+0.2e-5,4,0;_DIFF(zg(0),zg(2)),-1.0,6.5,1.0"
noclosedcontourcmd=
thresholdcmd=
outputcmd="air_pressure_at_sea_level,min,0;_VECMAG(uas,vas),max,5;_DIFF(zg(0),zg(2)),max,0;surface_altitude,max,0;_VECMAG(x_wind(0),y_wind(0)),max,5;_VECMAG(x_wind(1),y_wind(1)),max,5;rvT63(4),max,5;rvT63(4),min,5;_DIFF(zg(0),zg(2)),min,6.5"
timefilter=
regional=
out_header=
verbosity=
latname='latitude'
lonname='longitude'

[tc_vort_T63wc_sh_stitch]
in_fmt="lon,lat,slp,sfcWind,zg,surface_altitude,wind925,wind850,rvT63,rvT63_1,zg_1"
format=
range=3.0
mintime=8
min_endpoint_dist=8.0
min_path_dist=
maxgap=0
threshold="lat,>=,-40.0,8;lat,<=,0.0,8"
timestride=
out_file_format=

[tc_vort_T63wc_sh_profile]
calculate="rprof=radial_wind_profile(uas,vas,159,0.125);rsize=lastwhere(rprof,>,8)"
in_fmt="lon,lat,slp,sfcWind,zg,surface_altitude,wind925,wind850,rvT63,rvT63_1,zg_1"
latname='latitude'
lonname='longitude'
out_fmt="lon,lat,slp,sfcWind,zg,surface_altitude,wind925,wind850,rvT63,rvT63_1,zg_1,rsize,rprof"
timestride=

[etc_slp_detect]
closedcontourcmd="air_pressure_at_sea_level,200.0,6.0,0"
in_data=
in_data_list=
latname='latitude'
lonname='longitude'
maxlat=
maxlon=
mergedist=6.0
minabslat=
minlat=
minlon=
noclosedcontourcmd=
out=
out_file_list=
out_header=
outputcmd="air_pressure_at_sea_level,min,0;_VECMAG(uas,vas),max,5;_DIFF(zg(0),zg(2)),max,0;surface_altitude,max,0;_VECMAG(x_wind(0),y_wind(0)),max,5;_VECMAG(x_wind(1),y_wind(1)),max,5;rvT63(4),max,5;rvT63(4),min,5;_DIFF(zg(0),zg(2)),min,6.5"
regional=
searchbymax=
searchbymin="air_pressure_at_sea_level"
thresholdcmd=
timefilter=
verbosity=

[etc_slp_stitch]
in_fmt="lon,lat,slp,sfcWind,zg,surface_altitude,wind925,wind850,rvT63,rvT63_1,zg_1"
format=
in=
maxgap=3
min_endpoint_dist=12.0
min_path_dist=
mintime=10
out=
out_file_format=
range=6.0
threshold=
timestride=

[etc_slp_profile]
calculate="rprof=radial_wind_profile(uas,vas,159,0.125);rsize=lastwhere(rprof,>,8)"
format=
in=
in_fmt="lon,lat,slp,sfcWind,zg,surface_altitude,wind925,wind850,rvT63,rvT63_1,zg_1"
in_nodefile=
latname='latitude'
lonname='longitude'
out=
out_file_format=
out_fmt="lon,lat,slp,sfcWind,zg,surface_altitude,wind925,wind850,rvT63,rvT63_1,zg_1,rsize,rprof"
out_nodefile=
timestride=

[etc_slp_low_detect]
closedcontourcmd="air_pressure_at_sea_level,100.0,5.5,0"
in_data=
in_data_list=
latname='latitude'
lonname='longitude'
maxlat=
maxlon=
mergedist=6.0
minabslat=
minlat=
minlon=
noclosedcontourcmd=
out=
out_file_list=
out_header=
outputcmd="air_pressure_at_sea_level,min,0;_VECMAG(uas,vas),max,5;_DIFF(zg(0),zg(2)),max,0;surface_altitude,max,0;_VECMAG(x_wind(0),y_wind(0)),max,5;_VECMAG(x_wind(1),y_wind(1)),max,5;rvT63(4),max,5;rvT63(4),min,5;_DIFF(zg(0),zg(2)),min,6.5"
regional=
searchbymax=
searchbymin="air_pressure_at_sea_level"
thresholdcmd=
timefilter=
verbosity=

[etc_slp_low_stitch]
in_fmt="lon,lat,slp,sfcWind,zg,surface_altitude,wind925,wind850,rvT63,rvT63_1,zg_1"
format=
in=
maxgap=3
min_endpoint_dist=12.0
min_path_dist=
mintime=10
out=
out_file_format=
range=6.0
threshold=
timestride=

[etc_slp_low_profile]
calculate="rprof=radial_wind_profile(uas,vas,159,0.125);rsize=lastwhere(rprof,>,8)"
format=
in=
in_fmt="lon,lat,slp,sfcWind,zg,surface_altitude,wind925,wind850,rvT63,rvT63_1,zg_1"
in_nodefile=
latname='latitude'
lonname='longitude'
out=
out_file_format=
out_fmt="lon,lat,slp,sfcWind,zg,surface_altitude,wind925,wind850,rvT63,rvT63_1,zg_1,rsize,rprof"
out_nodefile=
timestride=

[etc_vortT63_nh_detect]
closedcontourcmd="rvT63(4),-0.2e-5,4,0"
in_data=
in_data_list=
latname='latitude'
lonname='longitude'
maxlat=90.0
maxlon=
mergedist=6.0
minabslat=
minlat=0.0
minlon=
noclosedcontourcmd="_DIFF(zg(0),zg(2)),-1.0,6.5,1.0"
out=
out_file_list=
out_header=
outputcmd="air_pressure_at_sea_level,min,0;_VECMAG(uas,vas),max,5;_DIFF(zg(0),zg(2)),max,0;surface_altitude,max,0;_VECMAG(x_wind(0),y_wind(0)),max,5;_VECMAG(x_wind(1),y_wind(1)),max,5;rvT63(4),max,5;rvT63(4),min,5;_DIFF(zg(0),zg(2)),min,6.5"
regional=
searchbymax="rvT63(4)"
searchbymin=
thresholdcmd=
timefilter=
verbosity=

[etc_vortT63_nh_stitch]
in_fmt="lon,lat,slp,sfcWind,zg,surface_altitude,wind925,wind850,rvT63,rvT63_1,zg_1"
format=
in=
maxgap=1
min_endpoint_dist=12.0
min_path_dist=
mintime=10
out=
out_file_format=
range=5.0
threshold=
timestride=

[etc_vortT63_nh_profile]
calculate="rprof=radial_wind_profile(uas,vas,159,0.125);rsize=lastwhere(rprof,>,8)"
format=
in=
in_fmt="lon,lat,slp,sfcWind,zg,surface_altitude,wind925,wind850,rvT63,rvT63_1,zg_1"
in_nodefile=
latname='latitude'
lonname='longitude'
out=
out_file_format=
out_fmt="lon,lat,slp,sfcWind,zg,surface_altitude,wind925,wind850,rvT63,rvT63_1,zg_1,rsize,rprof"
out_nodefile=
timestride=

[etc_vortT63_sh_detect]
closedcontourcmd="rvT63(4),0.2e-5,4,0"
in_data=
in_data_list=
latname='latitude'
lonname='longitude'
maxlat=0.0
maxlon=
mergedist=6.0
minabslat=
minlat=-90.0
minlon=
noclosedcontourcmd="_DIFF(zg(0),zg(2)),-1.0,6.5,1.0"
out=
out_file_list=
out_header=
outputcmd="air_pressure_at_sea_level,min,0;_VECMAG(uas,vas),max,5;_DIFF(zg(0),zg(2)),max,0;surface_altitude,max,0;_VECMAG(x_wind(0),y_wind(0)),max,5;_VECMAG(x_wind(1),y_wind(1)),max,5;rvT63(4),max,5;rvT63(4),min,5;_DIFF(zg(0),zg(2)),min,6.5"
regional=
searchbymax=
searchbymin="rvT63(4)"
thresholdcmd=
timefilter=
verbosity=

[etc_vortT63_sh_stitch]
in_fmt="lon,lat,slp,sfcWind,zg,surface_altitude,wind925,wind850,rvT63,rvT63_1,zg_1"
format=
in=
maxgap=1
min_endpoint_dist=12.0
min_path_dist=
mintime=10
out=
out_file_format=
range=5.0
threshold=
timestride=

[etc_vortT63_sh_profile]
calculate="rprof=radial_wind_profile(uas,vas,159,0.125);rsize=lastwhere(rprof,>,8)"
format=
in=
in_fmt="lon,lat,slp,sfcWind,zg,surface_altitude,wind925,wind850,rvT63,rvT63_1,zg_1"
in_nodefile=
latname='latitude'
lonname='longitude'
out=
out_file_format=
out_fmt="lon,lat,slp,sfcWind,zg,surface_altitude,wind925,wind850,rvT63,rvT63_1,zg_1,rsize,rprof"
out_nodefile=
timestride=

[tc_ew_nh_detect]
in_data=
in_data_list=
out=
out_file_list=
searchbymin=
searchbymax="rvT63(2)"
minlon=
maxlon=
minlat=0.0
maxlat=40.0
minabslat=
mergedist=2.0
closedcontourcmd="rvT63(2),-0.5e-5,4,0"
noclosedcontourcmd=
thresholdcmd=
outputcmd="air_pressure_at_sea_level,min,0;_VECMAG(uas,vas),max,5;_DIFF(zg(0),zg(2)),max,0;surface_altitude,max,0;_VECMAG(x_wind(0),y_wind(0)),max,5;_VECMAG(x_wind(1),y_wind(1)),max,5;rvT63(2),max,5;rvT63(2),min,5;_DIFF(zg(0),zg(2)),min,6.5"
timefilter=
regional=
out_header=
verbosity=
latname='latitude'
lonname='longitude'

[tc_ew_nh_stitch]
in=
out=
in_fmt="lon,lat,slp,sfcWind,zg,surface_altitude,wind925,wind850,rvT63,rvT63_1,zg_1"
format=
range=3.0
mintime=8
min_endpoint_dist=10.0
min_path_dist=
maxgap=0
threshold="lat,<=,25.0,8;lat,>=,0.0,8"
timestride=
out_file_format=

[tc_ew_nh_profile]
calculate="rprof=radial_wind_profile(uas,vas,159,0.125);rsize=lastwhere(rprof,>,8)"
format=
in=
in_fmt="lon,lat,slp,sfcWind,zg,surface_altitude,wind925,wind850,rvT63,rvT63_1,zg_1"
in_nodefile=
latname='latitude'
lonname='longitude'
out=
out_file_format=
out_fmt="lon,lat,slp,sfcWind,zg,surface_altitude,wind925,wind850,rvT63,rvT63_1,zg_1,rsize,rprof"
out_nodefile=
timestride=

[tc_ew_sh_detect]
in_data=
in_data_list=
out=
out_file_list=
searchbymin="rvT63(2)"
searchbymax=
minlon=
maxlon=
minlat=-40.0
maxlat=0.0
minabslat=
mergedist=2.0
closedcontourcmd="rvT63(2),0.5e-5,4,0"
noclosedcontourcmd=
thresholdcmd=
outputcmd="air_pressure_at_sea_level,min,0;_VECMAG(uas,vas),max,5;_DIFF(zg(0),zg(2)),max,0;surface_altitude,max,0;_VECMAG(x_wind(0),y_wind(0)),max,5;_VECMAG(x_wind(1),y_wind(1)),max,5;rvT63(2),max,5;rvT63(2),min,5;_DIFF(zg(0),zg(2)),min,6.5"
timefilter=
regional=
out_header=
verbosity=
latname='latitude'
lonname='longitude'

[tc_ew_sh_stitch]
in=
out=
in_fmt="lon,lat,slp,sfcWind,zg,surface_altitude,wind925,wind850,rvT63,rvT63_1,zg_1"
format=
range=3.0
mintime=8
min_endpoint_dist=10.0
min_path_dist=
maxgap=0
threshold="lat,>=,-25.0,8;lat,<=,0.0,8"
timestride=
out_file_format=

[tc_ew_sh_profile]
calculate="rprof=radial_wind_profile(uas,vas,159,0.125);rsize=lastwhere(rprof,>,8)"
format=
in=
in_fmt="lon,lat,slp,sfcWind,zg,surface_altitude,wind925,wind850,rvT63,rvT63_1,zg_1"
in_nodefile=
latname='latitude'
lonname='longitude'
out=
out_file_format=
out_fmt="lon,lat,slp,sfcWind,zg,surface_altitude,wind925,wind850,rvT63,rvT63_1,zg_1,rsize,rprof"
out_nodefile=
timestride=


